<!DOCTYPE html>
<title>Beatsaber Space</title>
<script src="https://cdn.jsdelivr.net/combine/npm/three@0.95.0/build/three.min.js,npm/altspace@2.9.0/dist/altspace.min.js,npm/altspacevr-behaviors@1.1.5/js/altspaceutil.min.js">
</script>
<script>
	altspaceutil.getFullspaceApp().then(app => {
		altspace.getUser().then(user => {
			let whitelistedUserIds = [/* list of userids to whitelist (in per-domain format) */];
			let isWhitelistedUser = (user.isModerator || (whitelistedUserIds.length > 0 && whitelistedUserIds.indexOf(user.userId) >= 0));
			
			if(altspace.inClient) {
				if(isWhitelistedUser) {
					let nboxcollider = new THREE.Mesh(new THREE.BoxBufferGeometry(17.94579, 38.66379, -57.14), new THREE.MeshBasicMaterial({ color: 0xff0000 }));
					nboxcollider.position.set(-59.49, 5.51, -57.14);
					app.anchor.add(nboxcollider);
					nboxcollider.addBehaviors(
						new altspaceutil.behaviors.NativeComponent('n-box-collider', { size: { x: 17.94579, y: 38.66379, z: -57.14 } })
						);
					console.log(isWhitelistedUser);
					}
				}	
			});
		}).catch(e => console.log(e));

</script>